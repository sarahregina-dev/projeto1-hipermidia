package org.example.view;

import org.example.model.Monster;

import java.util.ArrayList;
import java.util.List;
import java.util.Scanner;

public class GameView {

    private final Scanner scanner;
    String art = """
                                                ░░░░      ░░    ░░      ░░                  ░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░
                                                  ▒▒▓▓████▓▓▓▓▓▓▓▓░░░░                      ░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░
            ░░        ░░      ░░░░    ░░  ░░░░▓▓████████████████████████▓▓        ░░░░░░    ░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░
                        ▒▒▒▒▒▒▒▒▒▒██████████████████████████████████████████░░    ░░░░░░    ░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░
            ░░▒▒▒▒▒▒▓▓██████████████████████████████████████████████████████▒▒    ░░░░░░    ░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░
      ░░▒▒▓▓▒▒▒▒▓▓▓▓▓▓████████████████████████████▓▓██████████████████████████░░    ░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░
    ████▓▓██████████▓▓▓▓▓▓▓▓████████████████████▒▒▒▒▒▒▓▓██████████████████████▓▓░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░
  ▓▓██▓▓████▓▓██████████▓▓▓▓▓▓██▓▓▓▓████████████████▓▓██████████████████████████▒▒  ░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░
        ██▓▓▓▓▓▓████▓▓▓▓▓▓▓▓▓▓████▓▓▓▓████████████▓▓██████████████████████████████░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░
            ░░▒▒██████████▓▓▓▓▓▓▓▓▓▓▓▓████████████████████████████████████████████▓▓          ░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░
                  ░░████████████████▓▓██████████████████████████████████████████████░░        ░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░
                                ▓▓████▓▓██▓▓████████████████████████████████████████▒▒░░        ░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░
                                  ▓▓▒▒▒▒██████████████████████████████████████████████░░      ░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░
                                      ▓▓██████████████████████████████████████████████░░            ░░░░░░░░░░░░░░░░░░░░░░░░░░
                                      ▒▒██████████████████████████████████████████████▒▒            ░░░░░░░░░░░░░░░░░░░░░░░░░░
                                      ▒▒████████████████████████████████████████████████░░          ░░░░░░░░░░░░░░░░░░░░░░░░░░
                                      ▒▒▓▓██████████████████████████████████████████████      ░░    ░░░░░░░░░░░░░░░░░░░░░░░░░░
                                      ░░▒▒▒▒████████████████████████████████████████████▒▒  ░░      ░░░░░░░░░░░░░░░░░░░░░░░░░░
                                    ░░░░▓▓▒▒██████████████████████████████████████████████░░        ░░░░░░░░░░░░░░░░░░░░░░░░░░
                                      ░░░░▒▒██████████████████████████████████████████████▓▓        ░░░░░░░░░░░░░░░░░░░░░░░░░░
                                          ██████████████████████████████████████████████████▓▓      ░░░░  ░░░░░░░░░░░░░░░░░░░░
                                          ████████████████████████████████████████████████████░░░░  ░░░░  ░░░░░░░░░░░░░░░░░░░░
                                        ░░██████████████████████████████████████████████████████  ░░░░░░  ░░░░░░░░░░░░░░░░░░░░
                                        ▒▒██████████████████████████████████████████████████████  ░░  ░░░░  ░░░░░░░░░░░░░░░░░░
                                          ████████████████████████████████████████████████████████░░░░░░  ░░░░░░░░░░░░░░░░░░░░
                                        ▒▒██████████████████████████████████████████████████████████▒▒░░  ░░░░░░░░░░░░░░░░░░░░
                                        ░░██████████████████████████████████████████████████████████████▒▒░░░░░░░░░░░░░░░░░░░░
                                        ▒▒████████████████████████████████████████████████████████████████████░░░░░░░░░░░░░░░░
                                      ░░▒▒██████████████████████████████████████████████████████████████████████▓▓▒▒░░░░░░░░░░
                                      ░░▓▓██████████████████████████████████████████████████████████████████████████▓▓░░░░░░░░
                                      ░░▒▒▓▓██████████████████████████████████████████████████████████████████████████████░░░░
                                      ░░██████████████████████████████████████████████████████████████████████████████████▓▓░░
                                      ░░██████████████████████████████████████████████████████████████████████████████████████
                                        ████████████████████████████████▓▓████████████████████████████████████████████████████
                                      ░░██████████████████████████▓▓██▓▓▓▓████████████████████████████████████████████████████
                                        ██████████████████████████▓▓██████▓▓██▓▓▓▓████▓▓██████████████████████████████████████
                                      ░░██████████████████████▓▓▓▓██▓▓▓▓██████████████████████████████████████████████████████
                                      ▒▒████████████████████▓▓▓▓██▓▓▓▓██▓▓██████▓▓████▓▓██████████████████████████████████████
                                      ░░████████████████████████▓▓████████████▓▓████████████▓▓████▓▓██████████████████████████
                                    ░░  ██████████████████▓▓▓▓██▓▓████████████████████████████▓▓██████████████████████████████
                                      ░░▒▒██████████████▓▓▓▓▒▒██▓▓████▓▓████████████████████▓▓██▓▓████████████████████████████
                                    ░░░░▒▒████████████████▓▓▓▓▒▒██████████████████▓▓████████▓▓████▓▓██████████████████████████
                                        ▒▒▒▒████████████▒▒▓▓▓▓▓▓▓▓▓▓▓▓██████▓▓▓▓██████████▓▓████▓▓████████████████████████████
                                          ▓▓████████████▒▒▓▓████▒▒▓▓██▓▓▓▓██████▓▓▓▓██████▓▓▓▓██▓▓▓▓▓▓████████████████████████
                     \s
                ⠀⠀⠀⠀⠀⠀⠀
  
""";
    String titulo = """  
             ▗▄▖      ▗▄▄▖ ▗▄▖  ▗▄▄▖▗▄▄▄▖▗▄▄▄▖▗▖    ▗▄▖     ▗▄▄▄   ▗▄▖      ▗▄▄▖ ▗▄▖ ▗▄▄▖ ▗▖  ▗▖ ▗▄▖\s
            ▐▌ ▐▌    ▐▌   ▐▌ ▐▌▐▌     █  ▐▌   ▐▌   ▐▌ ▐▌    ▐▌  █ ▐▌ ▐▌    ▐▌   ▐▌ ▐▌▐▌ ▐▌▐▌  ▐▌▐▌ ▐▌
            ▐▌ ▐▌    ▐▌   ▐▛▀▜▌ ▝▀▚▖  █  ▐▛▀▀▘▐▌   ▐▌ ▐▌    ▐▌  █ ▐▌ ▐▌    ▐▌   ▐▌ ▐▌▐▛▀▚▖▐▌  ▐▌▐▌ ▐▌
            ▝▚▄▞▘    ▝▚▄▄▖▐▌ ▐▌▗▄▄▞▘  █  ▐▙▄▄▖▐▙▄▄▖▝▚▄▞▘    ▐▙▄▄▀ ▝▚▄▞▘    ▝▚▄▄▖▝▚▄▞▘▐▌ ▐▌ ▝▚▞▘ ▝▚▄▞▘
            
                      ▄████▄   ▄████▄   ▄████▄   ▄████▄   ▄████▄   ▄████▄   ▄████▄   ▄████▄\s""";


    String gameOverSkull = """
       ▗▄▄▖ ▗▄▖ ▗▖  ▗▖▗▄▄▄▖     ▗▄▖ ▗▖  ▗▖▗▄▄▄▖▗▄▄▖\s
      ▐▌   ▐▌ ▐▌▐▛▚▞▜▌▐▌       ▐▌ ▐▌▐▌  ▐▌▐▌   ▐▌ ▐▌
      ▐▌▝▜▌▐▛▀▜▌▐▌  ▐▌▐▛▀▀▘    ▐▌ ▐▌▐▌  ▐▌▐▛▀▀▘▐▛▀▚▖
       ▚▄▞▘▐▌ ▐▌▐▌  ▐▌▐▙▄▄▖    ▝▚▄▞▘ ▝▚▞▘ ▐▙▄▄▖▐▌ ▐▌
      
                        _____
                       /     \\
                      | () () |
                      \\  ^  /
                        |||||
                        |||||⠀⠀⠀⠀⠀⠀
""";
    public GameView(Scanner scanner) {
        this.scanner = scanner;
    }

    public void showTitleAndArt() {
        System.out.println(titulo);
        System.out.println(art);

    }



    public void showIntro() {
        List<String> introTextList = List.of(
                "Parece que chegou aqui sem quererr...  Crá-crá ♫ ♪",
                "Se entrrrar, vai precisar achar a saída o mais rrrápido possível ♫ ♪ ",
                "",
                "Seus comandos são:",
                "olhar | ir <direcao> | pegar <item> | largar <item> | inventario | usar <item> | sair",
                "",
                "Digite 'entrar' .. ♪ Crá-crá ♫  ... para começarrr sua aventura... ♫ Crá-crá ♪ ",
                "",
                "Ou 'sair'  ♪  ... se preferir desistirrr agora... ♫  ... Crá-crá ♪ ",
                "",
                "... Boa sorrrte! ♫ ♪"
        );


        System.out.println(UiFormatter.boxify(introTextList));
        System.out.println();
    }

    public String getInput() {
        System.out.print("\n> ");
        return scanner.nextLine();
    }

    public void showMessage(String message) {
        System.out.println(message);
    }

    public void showGoodbye() {
        System.out.println("Obrigado por jogarr ♫ ♪! Até a prrróxima. Crá-crá ♫ ♪");
    }

    public void showGameWon() {
        System.out.println("GAME WON! ... Crá crá ♫ ♪ ... Você conseguiu encontrarrr a saída! ♫ ♪ ");
    }

    public void showGameOver(Monster monster) {

        System.out.println(gameOverSkull);
        System.out.println();

        List<String> messageLines = new ArrayList<>();

        if (monster != null) {
            // 1. Título do Box
            messageLines.add("Crrrá... GAME OVER! ♫ ♪");
            messageLines.add("");
            messageLines.add("Parece que o " + monster.getName() + " foi mais rrrápido... ♫ ♪");
            messageLines.add(monster.getDescription());
            messageLines.add("");
            messageLines.add(monster.getDescription());
            messageLines.add("");
           // messageLines.add("Você precisava do item [" + monster.getDefeatItem() + "] para vencê-lo."); // Comentar para dificultar
        } else {
            messageLines.add("Parece que algo desconhecido te matou ♫ ♪...");
            messageLines.add("Prrrecisamos investigarrrr ♫ ♪ .");
        }

        String boxedMessage = UiFormatter.boxify(messageLines);
        System.out.println(boxedMessage);

        System.out.println();


    }
}
